{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
    html {
        font-family: sans-serif;
    }
    h1 {
        text-align: center;
    }
    table {
        border-collapse: collapse;
        border: 2px solid rgb(200,200,200);
        letter-spacing: 1px;
        font-size: 0.8rem;
        margin: auto;
    }
    td, th {
        border: 1px solid rgb(190,190,190);
        padding: 7px 25px;
    }
    th {
        background-color: rgb(235,235,235);
    }
    td {
        text-align: center;
        font-weight: 500;
    }
    tr:nth-child(even) td {
        background-color: rgb(250,250,250);
    }
    tr:nth-child(odd) td {
        background-color: rgb(245,245,245);
    }
    caption {
        padding: 10px;
    }
    .bala {
        font-size: 17px;
        font-weight: bold;
        text-align: center;
        padding-top: 10px;
        margin-left: 20%;
    }
    .ob {
        font-weight: bold;
        text-align: end;
        margin-right: 8%;
        font-size: 15px;
    }
    .amount-green {
        color: green;
        font-weight: bold;
    }
    .amount-red {
        color: red;
    }
    .balancecd {
        text-align: end;
        font-weight: bold;
    }
    .left-align {
        text-align: end;
        font-weight: bold;
    }
    .print-button{
        background: #007A9B ;
        padding: 10px;
        color: white;
        border-radius: 5px;
        position: fixed;
        float: right;
    }
    .bxs-printer{
        font-size: 18px !important;
    }
    @media print {
        body {
            width: 210mm;
            height: 297mm;
            margin: 0;
            padding: 0;
        }
        table {
            width: 100%;
        }
        .print-button {
            display: none;
        }
    }
</style>
<div class="group-data-[sidebar-size=lg]:ltr:md:ml-vertical-menu group-data-[sidebar-size=lg]:rtl:md:mr-vertical-menu group-data-[sidebar-size=md]:ltr:ml-vertical-menu-md group-data-[sidebar-size=md]:rtl:mr-vertical-menu-md group-data-[sidebar-size=sm]:ltr:ml-vertical-menu-sm group-data-[sidebar-size=sm]:rtl:mr-vertical-menu-sm pt-[calc(theme('spacing.header')_*_1)] pb-[calc(theme('spacing.header')_*_0.8)] px-4 group-data-[navbar=bordered]:pt-[calc(theme('spacing.header')_*_1.3)] group-data-[navbar=hidden]:pt-0 group-data-[layout=horizontal]:mx-auto group-data-[layout=horizontal]:max-w-screen-2xl group-data-[layout=horizontal]:px-0 group-data-[layout=horizontal]:group-data-[sidebar-size=lg]:ltr:md:ml-auto group-data-[layout=horizontal]:group-data-[sidebar-size=lg]:rtl:md:mr-auto group-data-[layout=horizontal]:md:pt-[calc(theme('spacing.header')_*_1.6)] group-data-[layout=horizontal]:px-3 group-data-[layout=horizontal]:group-data-[navbar=hidden]:pt-[calc(theme('spacing.header')_*_0.9)]">
<div class="container-fluid group-data-[content=boxed]:max-w-boxed mx-auto">
    <h4 class="py-5"></h4>
    <button onclick="window.print()" class="print-button"><i class='bx bxs-printer'></i>Print</button>

    <h1 style="text-transform: uppercase; font-size: 30px;">{{ company_name }}</h1>
    <div class="date-titel" style="display: flex; justify-content: center; align-items: center; gap: 0px; flex-direction: column;">
        <h6 style="font-size: 12px;">Tell : {{ company_phone }}</h6>
        <h6 style="font-size: 12px;">Address : {{ company_address }}</h6>
        <h6 style="font-size: 12px;">Gst : {{ company_gst }}</h6>
    <h5  style="font-size: 25px; margin-top: 15px; ">{{ account_master.head }}</h5>

    </div>
    <!-- <br> -->
    {% comment %} <h5  style="margin-left: 10%; margin-bottom: 5px;">{{ account_master.head }}</h5> {% endcomment %}
    {% comment %} <h6 style="margin-left: 10%; margin-bottom: 0px; font-size: 12px;">Tell : {{ account_master.telno }}</h6>
    <h6 style="margin-left: 10%; margin-bottom: 0px; font-size: 12px;">Address : {{ account_master.address1 }}</h6>
    <h6 style="margin-left: 10%; margin-bottom: 5px; font-size: 12px;">Gst : {{ account_master.gstno }}</h6> {% endcomment %}
    


    
    <div class="date-titel" style="display: flex; justify-content: start; align-items: start; gap: 20px; margin-left: 10%;">
        <h6>Date From : {{ start_date|date:"d/m/Y" }}</h6>
        <h6>Date To : {{ end_date|date:"d/m/Y" }}</h6>
    </div>


    <!--<p class="ob">Opening Balance: <span style="color: blue;">{{ account_master.opbalance }}</span></p>-->
    <h4 class="py-1"></h4>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Form</th>
                <th>Voucher Number</th>
                <th>Head</th>
                <th>Narration</th>
                <th>Debit</th>
                <th>Credit</th>
                <th>Closing Balance</th>
            </tr>
        </thead>
<tbody>
    <tr  class="yestarday-clossing-balance">
        
        <td style="font-weight:bold;">{{ start_date|date:"d/m/Y" }}</td>
        <td style="font-size:12px;">{{entry.head}}</td>
        <td style="font-weight:bold;"></td>
        <td style="font-weight:bold;"></td>
        <td style="font-weight:bold;">Oppening Balance</td>
        {% comment %} <td>{{ opening_balance }}</td> {% endcomment %}
        <td style="font-weight:bold;">{{ opening_balance_debit|floatformat:2 }}</td>
        <td style="font-weight:bold;">{{ opening_balance_credit|floatformat:2 }}</td>
        <td style="font-weight:bold;"></td>
    </tr>
    {% for entry in entries %}
        <tr>
            <td style="width: 1px;">{{ entry.date|date:"d/m/Y" }}</td>
            <td>
                {% if entry.status %}
                    {{ entry.status }}
                {% elif entry.type %}
                    {{ entry.type }}
                {% elif entry.is_journal_entry %}
                    Journal
                {% elif entry.is_contra_entry %}
                    Contra
                {% endif %}
            </td>
            <td>{{ entry.voucher_number }}</td>
            <td style="font-size:12px;">{{entry.head}}</td>
            <td style="width: 225px;">{{ entry.narration }}</td>
            <td>{{ entry.debit|floatformat:2 }}</td>
            <td>{{ entry.credit|floatformat:2 }}</td>
            <td style="font-weight: bold;">{{ entry.closing_balance|floatformat:2 }}</td>
        </tr>
    {% endfor %}
</tbody>

        <tfoot>
            <tr>
                <td colspan="5" class="left-align">Total</td>
                <td style="font-weight:bold;">{{ total_debit|floatformat:2 }}</td>
                <td style="font-weight:bold;">{{ total_credit|floatformat:2 }}</td>
            </tr>
            <tr>
                <td colspan="5" class="left-align">Balance c/d</td>
                <td colspan="2" class="{% if balance_cd > 0 %}amount-green{% else %}amount-red{% endif %}">
                    {{ balance_cd|floatformat:2 }}
                </td>
            </tr>
        </tfoot>
    </table>
    
    <h4 class="py-3"></h4>
</div>
{% endblock %}
