{% extends "base.html" %}
{% load static %}
{% block content %}

<link href="{% static 'css/edit-dr-cr-note.css' %}" rel='stylesheet'>

<div class="group-data-[sidebar-size=lg]:ltr:md:ml-vertical-menu group-data-[sidebar-size=lg]:rtl:md:mr-vertical-menu group-data-[sidebar-size=md]:ltr:ml-vertical-menu-md group-data-[sidebar-size=md]:rtl:mr-vertical-menu-md group-data-[sidebar-size=sm]:ltr:ml-vertical-menu-sm group-data-[sidebar-size=sm]:rtl:mr-vertical-menu-sm pt-[calc(theme('spacing.header')_*_1)] pb-[calc(theme('spacing.header')_*_0.8)] px-4 group-data-[navbar=bordered]:pt-[calc(theme('spacing.header')_*_1.3)] group-data-[navbar=hidden]:pt-0 group-data-[layout=horizontal]:mx-auto group-data-[layout=horizontal]:max-w-screen-2xl group-data-[layout=horizontal]:px-0 group-data-[layout=horizontal]:group-data-[sidebar-size=lg]:ltr:md:ml-auto group-data-[layout=horizontal]:group-data-[sidebar-size=lg]:rtl:md:mr-auto group-data-[layout=horizontal]:md:pt-[calc(theme('spacing.header')_*_1.6)] group-data-[layout=horizontal]:px-3 group-data-[layout=horizontal]:group-data-[navbar=hidden]:pt-[calc(theme('spacing.header')_*_0.9)]">
    <div class="container-fluid group-data-[content=boxed]:max-w-boxed mx-auto">
        <h4 class="py-5"></h4>
        <div class="center">
            <h2>MODIFY CREDIT  NOTE</h2>
            <div class="py-3"></div>
            <form class="py-5" method="post" action="">
                {% csrf_token %}
                <div class="box">
                    <label for="category">Select Series :</label>
                    <select name="series" id="series" required>
                        <option value="" selected disabled>--Select--</option>
                        {% for option in series_options %}
                            <option value="{{ option.series }}">{{ option.series }}</option>
                        {% endfor %}
                    </select>
                </div>
                <span id="series-error" style="color: red; display: none;">This combination of category and series already exists.</span>
                <div class="box">
                    <label style="margin-right: 28px;" for="serialNo">Serial No :</label>
                    <input type="text" id="serial_no" name="serial_no" required>
                </div>
                <div class="box btns">
                    <button type="submit" class="addbutton"><i class='bx bx-search-alt-2'></i> OK</button>
                    <a href="{% url 'main:account_debit_table' %}"> <button type="button" class="exitbutton"><i class='bx bx-exit'></i> Cancel</button></a>
                </div>
            </form>
            
            {% if error %}
                <p style="color: red;">{{ error }}</p>
            {% endif %}
        </div>
    </div>
    <!-- container-fluid -->
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    function submitForm() {
        const series = document.getElementById('series').value;
        const serialNo = document.getElementById('serial_no').value;
        
        if (series && serialNo) {
            // Redirect to debit-note.html with series and serial_no as parameters
            window.location.href = `{% url 'main:account_debit_note' series='dummy_series' serial_no=0 %}`.replace('dummy_series', series).replace('0', serialNo);
        }
    }
</script>



{% endblock %}

